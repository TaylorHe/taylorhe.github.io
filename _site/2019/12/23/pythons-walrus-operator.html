<!DOCTYPE html>
<html lang="en"><head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1"><!-- Begin Jekyll SEO tag v2.6.1 -->
<title>Python’s Walrus Operator | Programbling</title>
<meta name="generator" content="Jekyll v4.0.0" />
<meta property="og:title" content="Python’s Walrus Operator" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Python 3.8 introduced a nice quality of life assignment expression denoted by “:=”. It’s also called the walrus operator because it looks like the eyes and tusks of a walrus on its side. It allows the writer to assign and return a variable in a single expression, which reduces the amount of code you actually have to write to do something. It’s much easier to see it in use. Let’s check out some examples! When a calculated value is part of a conditional, it can be shortened inline with the conditional. # No walrus value = foo() if value is not None: bar(value) # Walrus operator if (value := foo()) is not None: bar(value) You make your code for reading a file more concise as well. # No walrus block = file.readline() while block is not None: process(block) block = file.readline() # Walrus operator if (block := file.readline() is not None: process(block) And finally, it can make expressions in list comprehension more efficient. # No walrus makes this list comprehension perform expensive_operation twice! values = [1,2,3,4,5, ... ] // Some random list [expensive_operation(v) for v in values if expensive_operation(v) &gt; 0] # Walrus operator caches the result for you and therefore only computes once [result for v in values if (result := expensive_operation(v)) &gt; 0] This is actually a pretty controversial addition to Python, with critics arguing that assignment in the middle of an expression is ugly and complex, and now there’s ambiguity in assignments. There are more points to be made in the argument linked above, but overall I think it helps simply my code a ton, and I think this optimization of writing one line instead of a few is really nice." />
<meta property="og:description" content="Python 3.8 introduced a nice quality of life assignment expression denoted by “:=”. It’s also called the walrus operator because it looks like the eyes and tusks of a walrus on its side. It allows the writer to assign and return a variable in a single expression, which reduces the amount of code you actually have to write to do something. It’s much easier to see it in use. Let’s check out some examples! When a calculated value is part of a conditional, it can be shortened inline with the conditional. # No walrus value = foo() if value is not None: bar(value) # Walrus operator if (value := foo()) is not None: bar(value) You make your code for reading a file more concise as well. # No walrus block = file.readline() while block is not None: process(block) block = file.readline() # Walrus operator if (block := file.readline() is not None: process(block) And finally, it can make expressions in list comprehension more efficient. # No walrus makes this list comprehension perform expensive_operation twice! values = [1,2,3,4,5, ... ] // Some random list [expensive_operation(v) for v in values if expensive_operation(v) &gt; 0] # Walrus operator caches the result for you and therefore only computes once [result for v in values if (result := expensive_operation(v)) &gt; 0] This is actually a pretty controversial addition to Python, with critics arguing that assignment in the middle of an expression is ugly and complex, and now there’s ambiguity in assignments. There are more points to be made in the argument linked above, but overall I think it helps simply my code a ton, and I think this optimization of writing one line instead of a few is really nice." />
<link rel="canonical" href="http://localhost:4000/2019/12/23/pythons-walrus-operator.html" />
<meta property="og:url" content="http://localhost:4000/2019/12/23/pythons-walrus-operator.html" />
<meta property="og:site_name" content="Programbling" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2019-12-23T03:00:00-05:00" />
<script type="application/ld+json">
{"@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"http://localhost:4000/2019/12/23/pythons-walrus-operator.html"},"datePublished":"2019-12-23T03:00:00-05:00","url":"http://localhost:4000/2019/12/23/pythons-walrus-operator.html","description":"Python 3.8 introduced a nice quality of life assignment expression denoted by “:=”. It’s also called the walrus operator because it looks like the eyes and tusks of a walrus on its side. It allows the writer to assign and return a variable in a single expression, which reduces the amount of code you actually have to write to do something. It’s much easier to see it in use. Let’s check out some examples! When a calculated value is part of a conditional, it can be shortened inline with the conditional. # No walrus value = foo() if value is not None: bar(value) # Walrus operator if (value := foo()) is not None: bar(value) You make your code for reading a file more concise as well. # No walrus block = file.readline() while block is not None: process(block) block = file.readline() # Walrus operator if (block := file.readline() is not None: process(block) And finally, it can make expressions in list comprehension more efficient. # No walrus makes this list comprehension perform expensive_operation twice! values = [1,2,3,4,5, ... ] // Some random list [expensive_operation(v) for v in values if expensive_operation(v) &gt; 0] # Walrus operator caches the result for you and therefore only computes once [result for v in values if (result := expensive_operation(v)) &gt; 0] This is actually a pretty controversial addition to Python, with critics arguing that assignment in the middle of an expression is ugly and complex, and now there’s ambiguity in assignments. There are more points to be made in the argument linked above, but overall I think it helps simply my code a ton, and I think this optimization of writing one line instead of a few is really nice.","headline":"Python’s Walrus Operator","dateModified":"2019-12-23T03:00:00-05:00","@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->
<link rel="stylesheet" href="/assets/main.css"><link type="application/atom+xml" rel="alternate" href="http://localhost:4000/feed.xml" title="Programbling" /></head>
<body><header class="site-header" role="banner">

  <div class="wrapper"><a class="site-title" rel="author" href="/">Programbling</a><nav class="site-nav">
        <input type="checkbox" id="nav-trigger" class="nav-trigger" />
        <label for="nav-trigger">
          <span class="menu-icon">
            <svg viewBox="0 0 18 15" width="18px" height="15px">
              <path d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.032C17.335,0,18,0.665,18,1.484L18,1.484z M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.032C17.335,6.031,18,6.696,18,7.516L18,7.516z M18,13.516C18,14.335,17.335,15,16.516,15H1.484 C0.665,15,0,14.335,0,13.516l0,0c0-0.82,0.665-1.483,1.484-1.483h15.032C17.335,12.031,18,12.695,18,13.516L18,13.516z"/>
            </svg>
          </span>
        </label>

        <div class="trigger"><a class="page-link" href="/about/">About</a></div>
      </nav></div>
</header>
<main class="page-content" aria-label="Content">
      <div class="wrapper">
        <article class="post h-entry" itemscope itemtype="http://schema.org/BlogPosting">

  <header class="post-header">
    <h1 class="post-title p-name" itemprop="name headline">Python&#39;s Walrus Operator</h1>
    <p class="post-meta">
      <time class="dt-published" datetime="2019-12-23T03:00:00-05:00" itemprop="datePublished">Dec 23, 2019
      </time></p>
  </header>

  <div class="post-content e-content" itemprop="articleBody">
    <p>Python 3.8 introduced a nice quality of life assignment expression denoted by “:=”.  It’s also called the walrus operator because it looks like the eyes and tusks of a walrus on its side. It allows the writer to assign and return a variable in a single expression, which reduces the amount of code you actually have to write to do something. It’s much easier to see it in use. Let’s check out some examples!</p>

<p>When a calculated value is part of a conditional, it can be shortened inline with the conditional.</p>

<figure class="highlight"><pre><code class="language-python" data-lang="python"><span class="c1"># No walrus
</span><span class="n">value</span> <span class="o">=</span> <span class="n">foo</span><span class="p">()</span>
<span class="k">if</span> <span class="n">value</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span><span class="p">:</span>
    <span class="n">bar</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>

<span class="c1"># Walrus operator
</span><span class="k">if</span> <span class="p">(</span><span class="n">value</span> <span class="p">:</span><span class="o">=</span> <span class="n">foo</span><span class="p">())</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span><span class="p">:</span>
    <span class="n">bar</span><span class="p">(</span><span class="n">value</span><span class="p">)</span></code></pre></figure>

<p>You make your code for reading a file more concise as well.</p>

<figure class="highlight"><pre><code class="language-python" data-lang="python"><span class="c1"># No walrus
</span><span class="n">block</span> <span class="o">=</span> <span class="nb">file</span><span class="o">.</span><span class="n">readline</span><span class="p">()</span>
<span class="k">while</span> <span class="n">block</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span><span class="p">:</span>
    <span class="n">process</span><span class="p">(</span><span class="n">block</span><span class="p">)</span>
    <span class="n">block</span> <span class="o">=</span> <span class="nb">file</span><span class="o">.</span><span class="n">readline</span><span class="p">()</span>

<span class="c1"># Walrus operator
</span><span class="k">if</span> <span class="p">(</span><span class="n">block</span> <span class="p">:</span><span class="o">=</span> <span class="nb">file</span><span class="o">.</span><span class="n">readline</span><span class="p">()</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span><span class="p">:</span>
    <span class="n">process</span><span class="p">(</span><span class="n">block</span><span class="p">)</span></code></pre></figure>

<p>And finally, it can make expressions in list comprehension more efficient.</p>

<figure class="highlight"><pre><code class="language-python" data-lang="python"><span class="c1"># No walrus makes this list comprehension perform expensive_operation twice!
</span><span class="n">values</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span> <span class="o">...</span> <span class="p">]</span>  <span class="o">//</span> <span class="n">Some</span> <span class="n">random</span> <span class="nb">list</span>
<span class="p">[</span><span class="n">expensive_operation</span><span class="p">(</span><span class="n">v</span><span class="p">)</span> <span class="k">for</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">values</span> <span class="k">if</span> <span class="n">expensive_operation</span><span class="p">(</span><span class="n">v</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">]</span>

<span class="c1"># Walrus operator caches the result for you and therefore only computes once
</span><span class="p">[</span><span class="n">result</span> <span class="k">for</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">values</span> <span class="k">if</span> <span class="p">(</span><span class="n">result</span> <span class="p">:</span><span class="o">=</span> <span class="n">expensive_operation</span><span class="p">(</span><span class="n">v</span><span class="p">))</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">]</span></code></pre></figure>

<p>This is actually a pretty controversial addition to Python, with critics arguing that assignment in the middle of an expression is ugly and complex, and now there’s ambiguity in assignments. There are more points to be made in the argument linked above, but overall I think it helps simply my code a ton, and I think this optimization of writing one line instead of a few is really nice.</p>

  </div><a class="u-url" href="/2019/12/23/pythons-walrus-operator.html" hidden></a>
</article>

      </div>
    </main><footer class="site-footer h-card">
  <data class="u-url" href="/"></data>

  <div class="wrapper">

    <h2 class="footer-heading">Programbling</h2>

    <div class="footer-col-wrapper">
      <div class="footer-col footer-col-1">
        <ul class="contact-list">
          <li class="p-name">Programbling</li><li><a class="u-email" href="mailto:taylor.he7@gmail.com">taylor.he7@gmail.com</a></li></ul>
      </div>

      <div class="footer-col footer-col-2"><ul class="social-media-list"><li><a href="https://github.com/taylorhe"><svg class="svg-icon"><use xlink:href="/assets/minima-social-icons.svg#github"></use></svg> <span class="username">taylorhe</span></a></li></ul>
</div>

      <div class="footer-col footer-col-3">
        <p>I ramble about programming and other topics.</p>
      </div>
    </div>

  </div>

</footer>
</body>

</html>
